<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="Bahnbabo" content="Offizielle Website des Bahnbabos">
    <meta name="Peter Wirth" content="Offizielle Website von Peter Wirth">
    <title>Startseite</title>
    <link rel="icon" href="favicon.ico">

    <!-- Allgemeine Stylesheets -->
    <link rel="stylesheet" href="styles/root.css">
    <link rel="stylesheet" href="styles/header.css">
    <link rel="stylesheet" href="styles/footer.css">
    <link rel="stylesheet" href="styles/main.css">
    <!-- Speziele Stylesheets -->
    <link rel="stylesheet" href="styles/index.css">
    <!-- Rezise Stylesheet -->
    <link rel="stylesheet" href="styles/rezise.css">

    <!-- JS-Scripts -->
    <script src="scripts/index.js" defer></script>
    <script src="scripts/tweets.js"></script>
</head>

<body>
    <header>
        <input type="checkbox" id="nav_expand">
        <label for="nav_expand">
            <span></span>
            <span></span>
            <span></span>
        </label>
        <h2>Peter Wirth</h2>
        <nav>
            <li><a class="active" href="index.html">Home</a></li>
            <li><a href="ueber.html">Ãœber mich</a></li>
            <li><a href="politik.html">Meine Vision fÃ¼r Frankfurt</a></li>
            <li><a href="presse.html">Presse</a></li>
        </nav>
    </header>

    <section class="side_sect">
        <a href="https://twitter.com/PeterWirth10?s=20" title="Twitter">
            <img src="img/twitter.svg"></a>
        <a href="https://www.instagram.com/der_bahnbabo/?hl=de" title="Instagram">
            <img src="img/instagram.svg">
        </a>
    </section>

    <main>
        <section id="index_sect">
            <img src="img/bahnbabo.jpg" id="title_img" title="Meine Politik"
                onclick="window.location.href='politik.html'">
        </section>

        <section id="link_sect">
            <script defer>
                const audio = new Audio();
                audio.src = '/img/Song.mp3';
                audio.preload = "none"
                audio.autoplay = true
                audio.controls = true
                audio.type = "audio/mpeg"
                audio.title = "https://www.dropbox.com/s/d2mu6isolmx82r6/3fair%20-%20Der%20Bahnbabo%20Song.mp3"

                document.querySelector('#link_sect').appendChild(audio);

                const audioCtx = new AudioContext();
                const source = audioCtx.createMediaElementSource(audio);
                const analyser = audioCtx.createAnalyser();
                source.connect(analyser);
                analyser.connect(audioCtx.destination);

                analyser.fftSize = 256;
                const bufferLength = analyser.frequencyBinCount;
                const dataArray = new Uint8Array(bufferLength);

                function updateImage() {
                    analyser.getByteFrequencyData(dataArray);

                    const total = dataArray.reduce((sum, value) => sum + value);
                    const percent = total / bufferLength / 256;
                    const index = Math.floor(percent * 100);

                    if (index < 5) {
                        document.querySelector('#title_img').style.outlineColor = getComputedStyle(document.body).getPropertyValue('--accent');
                        document.querySelector('#title_img').style.outlineWidth = "4px";
                        document.querySelector('#title_img').style.outlineOffset = "0px"
                        document.querySelector('#title_img').style.outlineStyle = "solid"
                    } else {
                        document.querySelector('#title_img').style.outlineStyle = "dashed"
                        document.querySelector('#title_img').style.outlineWidth = "2em";
                        document.querySelector('#title_img').style.outlineColor = "#0889a3";
                        document.querySelector('#title_img').style.outlineOffset = index + "px"
                    }
                }

                setInterval(updateImage, 100);
            </script>
        </section>

        <section id="gedicht_sect"
            style="background-color: #e0e0e0; padding: 14px; box-sizing: border-box;display: flex; flex-direction: row; align-items: center; justify-content: center;">
            <p style="font-size: 24px; text-align: center;">
                Ich bin hier geboren und ich will hier sterben, <br>
                Ich habe gelebt und es gab auch Scherben, <br>
                Doch dieser Stadt gehÃ¶rt mein Herz, <br>
                Mit aller Liebe und allem Schmerz
            </p>
        </section>

        <section id="tweets_sect"
            style="margin-top: 20px; margin-bottom: 20px; display: flex; flex-direction: row; align-items: center; justify-content: center;">
            <div id="ask_show_tweets"
                style="display: flex; flex-direction: column; align-items: center; justify-content: center; box-sizing: border-box; border: 2px solid black; background-color: #fff; padding: 14px; gap: 12px;">
                <h1>Tweeets von Twitter laden?</h1>
                <button onclick="loadTweets();">einige Tweets laden</button>
            </div>
            <!-- <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>  -->
            <!-- <blockquote class="twitter-tweet"><p lang="de" dir="ltr">Make Ã–PNV Great Again..ðŸšƒ <a href="https://t.co/Jso9WKvkCr">pic.twitter.com/Jso9WKvkCr</a></p>&mdash; Bahnbabo (@PeterWirth10) <a href="https://twitter.com/PeterWirth10/status/1622652920440266760?ref_src=twsrc%5Etfw">February 6, 2023</a></blockquote> -->
            <div id="tweets_scroller"></div>
        </section>
    </main>

    <footer>
        <div class="about_links">
            <a href="https://twitter.com/PeterWirth10?s=20" title="Twitter"><img src="img/twitter.svg"></a>
            <a href="https://www.instagram.com/der_bahnbabo/?hl=de" title="Instagram"><img src="img/instagram.svg"></a>
        </div>
        <a href="https://www.amazon.de/Beste-Laune-mit-dem-Bahnbabo/dp/3957712696" title="mein Buch">mein Buch</a>
        <div class="web_links">
            <a href="impressum.html">Impressum</a>
            <a href="datenschutz.html">Datenschutz</a>
        </div>
    </footer>
</body>


</html>